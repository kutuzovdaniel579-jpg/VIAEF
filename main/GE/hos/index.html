<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VIÆF – Aardrijkskunde</title>

  <style>
    body { 
      font-family: Arial, sans-serif; 
      padding: 20px; 
      background: #ffffff;
      color: #000;
    }

    h1 { margin-bottom: 10px; }

    /* Algemene knopstijl */
    .hoofdstuk-btn,
    .subhoofdstuk-btn,
    .geo-btn {
      padding: 10px 15px;
      margin: 5px;
      background: #51A6E8;
      color: white;
      border-radius: 6px;
      border: 1px solid #0f6f99;
      cursor: pointer;
      font-size: 16px;
      transition: 0.2s;
    }

    /* Hover animatie */
    .hoofdstuk-btn:hover,
    .subhoofdstuk-btn:hover:not(.quiz-btn),
    .geo-btn:hover:not(.quiz-btn) {
      border-width: 2px;
      border-color: #0b4f6d;
      box-shadow: 0 0 6px rgba(0,0,0,0.2);
      transform: translateY(-2px);
    }

    /* Quiz-knop stijl */
    .quiz-btn {
      background: #BF0D0D;
      border-color: #8a0909;
    }

    .quiz-btn:hover {
      border-width: 2px;
      border-color: #5c0606;
      box-shadow: 0 0 6px rgba(0,0,0,0.25);
      transform: translateY(-2px);
    }

    /* Vraag/antwoord kaart */
    .woord {
      padding: 10px;
      margin: 10px 0;
      background: #f0f0f0;
      border-radius: 6px;
    }

    .woord small {
      color: #555;
    }

    select {
      padding: 8px 12px;
      margin: 5px;
      border-radius: 6px;
      border: 1px solid #0f6f99;
      font-size: 16px;
    }
  </style>
</head>

<body>
  <h1>Aardrijkskunde – Hoofdsteden</h1>

  <div>
    <label><strong>Dataset:</strong></label>
    <select id="datasetSelect">
      <option value="landen">Landen</option>
      <option value="microstaten">Microstaten</option>
    </select>

    <label><strong>Moeilijkheid:</strong></label>
    <select id="difficultySelect">
      <option>Baby</option>
      <option>Easy</option>
      <option>Normal</option>
      <option>Hardcore</option>
      <option>Insane</option>
      <option>Nerd</option>
    </select>

    <span id="microDefWrapper" style="display:none;">
      <label><strong>Definitie:</strong></label>
      <select id="microDefSelect">
        <option value="VN">VN</option>
        <option value="Uitgebreid">Uitgebreid</option>
        <option value="Maximaal">Maximaal</option>
      </select>
    </span>

    <button id="newQuestionBtn" class="geo-btn">Nieuwe vraag</button>
  </div>

  <div id="questionCard" class="woord" style="display:none;">
    <div id="questionText" style="font-size:18px; font-weight:bold;"></div>
    <button id="showAnswerBtn" class="geo-btn" style="margin-top:10px;">Toon antwoord</button>
    <div id="answerText" style="margin-top:8px; font-weight:bold; display:none;"></div>
  </div>

  <script>
    const LANDEN_URL = "https://kutuzovdaniel579-jpg.github.io/VIAEF/GE/landen.json";
    const MICRO_URL  = "https://kutuzovdaniel579-jpg.github.io/VIAEF/GE/Microstaten.json";

    let landenData = null;
    let microData  = null;

    async function loadData() {
      const [landenRes, microRes] = await Promise.all([
        fetch(LANDEN_URL),
        fetch(MICRO_URL)
      ]);
      landenData = await landenRes.json();
      microData  = await microRes.json();
    }

    function getRandomEntry(obj) {
      const keys = Object.keys(obj);
      if (keys.length === 0) return null;
      const land = keys[Math.floor(Math.random() * keys.length)];
      return { land, hoofdstad: obj[land] };
    }

    function newQuestion() {
      const dataset = document.getElementById("datasetSelect").value;
      const diff    = document.getElementById("difficultySelect").value;

      let entry = null;

      if (dataset === "landen") {
        const pool = landenData?.[diff];
        if (!pool) return;
        entry = getRandomEntry(pool);
      } else {
        const def = document.getElementById("microDefSelect").value;
        const pool = microData?.[def]?.[diff];
        if (!pool) return;
        entry = getRandomEntry(pool);
      }

      if (!entry) return;

      const qCard   = document.getElementById("questionCard");
      const qText   = document.getElementById("questionText");
      const aText   = document.getElementById("answerText");
      const aButton = document.getElementById("showAnswerBtn");

      qText.textContent = `Wat is de hoofdstad van ${entry.land}?`;
      aText.textContent = entry.hoofdstad;
      aText.style.display = "none";
      qCard.style.display = "block";

      aButton.onclick = () => {
        aText.style.display = "block";
      };
    }

    document.getElementById("datasetSelect").addEventListener("change", (e) => {
      const isMicro = e.target.value === "microstaten";
      document.getElementById("microDefWrapper").style.display = isMicro ? "inline-block" : "none";
    });

    document.getElementById("newQuestionBtn").addEventListener("click", () => {
      if (!landenData || !microData) return;
      newQuestion();
    });

    loadData().catch(console.error);
  </script>
</body>
</html>
